serviceMaps:
  serviceName: expense Service
  mappings:
    - version: 1.0
      name: bill verification task create
      description: create bill verification task in eg_expense_bill_verification_task
      fromTopic: bill-verification-task-create
      queryMaps:
        - query: INSERT INTO eg_expense_bill_verification_task (id, status, created_by, created_time, last_modified_by, last_modified_time, additional_details) VALUES (?, ?, ?, ?, ?, ?, ?)
          basePath: $.billVerificationTask
          jsonMaps:
            - jsonPath: $.billVerificationTask.id
            - jsonPath: $.billVerificationTask.status
            - jsonPath: $.billVerificationTask.auditDetails.createdBy
            - jsonPath: $.billVerificationTask.auditDetails.createdTime
            - jsonPath: $.billVerificationTask.auditDetails.lastModifiedBy
            - jsonPath: $.billVerificationTask.auditDetails.lastModifiedTime
            - jsonPath: $.billVerificationTask.additionalDetails
              type: JSON
              dbType: JSONB

    - version: 1.0
      name: bill verification task details create
      description: create bill verification task details in eg_expense_bill_verification_task_details
      fromTopic: bill-verification-task-details-create
      queryMaps:
        - query: INSERT INTO eg_expense_bill_verification_task_details (id, tenant_id, bill_id, payee_id, task_id, reference_id, response_message, status, reason_for_failure, created_by, created_time, last_modified_by, last_modified_time, additional_details) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
          basePath: $.billVerificationTaskDetails
          jsonMaps:
            - jsonPath: $.billVerificationTaskDetails.id
            - jsonPath: $.billVerificationTaskDetails.tenantId
            - jsonPath: $.billVerificationTaskDetails.billId
            - jsonPath: $.billVerificationTaskDetails.payeeId
            - jsonPath: $.billVerificationTaskDetails.taskId
            - jsonPath: $.billVerificationTaskDetails.referenceId
            - jsonPath: $.billVerificationTaskDetails.responseMessage
            - jsonPath: $.billVerificationTaskDetails.status
            - jsonPath: $.billVerificationTaskDetails.reasonForFailure
            - jsonPath: $.billVerificationTaskDetails.auditDetails.createdBy
            - jsonPath: $.billVerificationTaskDetails.auditDetails.createdTime
            - jsonPath: $.billVerificationTaskDetails.auditDetails.lastModifiedBy
            - jsonPath: $.billVerificationTaskDetails.auditDetails.lastModifiedTime
            - jsonPath: $.billVerificationTaskDetails.additionalDetails
              type: JSON
              dbType: JSONB
