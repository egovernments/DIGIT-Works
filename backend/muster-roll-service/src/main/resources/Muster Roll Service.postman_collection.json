{
	"info": {
		"_postman_id": "d06e2af1-4655-4db7-9a30-72d6a09babca",
		"name": "Muster Roll Service",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Estimate muster roll - Success",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"TenantId is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.tenantId).to.be.not.null});",
							"",
							"pm.test(\"TenantId is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.tenantId).to.not.be.undefined});",
							"",
							"pm.test(\"registerId is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.registerId).to.be.not.null});",
							"",
							"pm.test(\"registerId is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.registerId).to.not.be.undefined});",
							"",
							"pm.test(\"startDate is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.startDate).to.be.not.null});",
							"",
							"pm.test(\"startDate is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.startDate).to.not.be.undefined});",
							"",
							"pm.test(\"endDate is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.endDate).to.be.not.null});",
							"",
							"pm.test(\"endDate is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.endDate).to.not.be.undefined});",
							"",
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(200)));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 169,\n      \"uuid\": \"81a1988f-9072-4ff9-8aa4-eee5cf10ba57\",\n      \"userName\": \"7070102021\",\n      \"name\": \"test2\",\n      \"mobileNumber\": \"9130011254\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n        {\n          \"name\": \"Organization staff\",\n          \"code\": \"ORG_STAFF\",\n          \"tenantId\": \"{{tenantId}}\"\n        }]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n    \"registerId\": \"56shcwgdt227\",\n    \"startDate\": 1669919400000,\n    \"endDate\": 1670697000000\n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_estimate",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_estimate"
					]
				}
			},
			"response": []
		},
		{
			"name": "Estimate muster roll - Validation error",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(400)));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 169,\n      \"uuid\": \"81a1988f-9072-4ff9-8aa4-eee5cf10ba57\",\n      \"userName\": \"7070102021\",\n      \"name\": \"test2\",\n      \"mobileNumber\": \"9130011254\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n        {\n          \"name\": \"Organization staff\",\n          \"code\": \"ORG_STAFF\",\n          \"tenantId\": \"{{tenantId}}\"\n        }]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n    \"registerId\": \"56shcwgdt227\",\n    \"startDate\": 1669919400000\n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_estimate",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_estimate"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create muster roll - Success - Default skill level",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"TenantId is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.tenantId).to.be.not.null});",
							"",
							"pm.test(\"TenantId is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.tenantId).to.not.be.undefined});",
							"",
							"pm.test(\"registerId is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.registerId).to.be.not.null});",
							"",
							"pm.test(\"registerId is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.registerId).to.not.be.undefined});",
							"",
							"pm.test(\"startDate is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.startDate).to.be.not.null});",
							"",
							"pm.test(\"startDate is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.startDate).to.not.be.undefined});",
							"",
							"pm.test(\"skill level is default\", function () {",
							"    let responseData = pm.response.json();",
							"    pm.expect(responseData.musterRolls[0].individualEntries[0].additionalDetails.skillCode).eq(\"Skill 1\")});",
							"",
							"pm.test(\"workflow status is submitted\", function () {",
							"    let responseData = pm.response.json();",
							"    pm.expect(responseData.musterRolls[0].musterRollStatus).eq(\"SUBMITTED\")});",
							"",
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(200)));",
							"",
							"let responseData = pm.response.json();",
							"pm.environment.set(\"musterRollId\", responseData.musterRolls[0].id);",
							"pm.environment.set(\"musterRollNumber\", responseData.musterRolls[0].musterRollNumber);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 169,\n      \"uuid\": \"81a1988f-9072-4ff9-8aa4-eee5cf10ba57\",\n      \"userName\": \"7070102021\",\n      \"name\": \"test2\",\n      \"mobileNumber\": \"9130011254\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n        {\n          \"name\": \"Organization staff\",\n          \"code\": \"ORG_STAFF\",\n          \"tenantId\": \"{{tenantId}}\"\n        }]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n    \"registerId\": \"56shcwgdt412\",\n    \"startDate\": 1670178600000,\n    \"endDate\": 1670697000000,\n     \"additionalDetails\": {\"org details\":\"org1\"}\n  },\n  \"workflow\": {\n      \"action\": \"SUBMIT\",\n        \"comments\": \"Sumbit muster roll\",\n        \"assignees\": []       \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_create",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_create"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create muster roll - Success  with Individual Skill all individuals",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 169,\n      \"uuid\": \"81a1988f-9072-4ff9-8aa4-eee5cf10ba57\",\n      \"userName\": \"7070102021\",\n      \"name\": \"test2\",\n      \"mobileNumber\": \"9130011254\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n        {\n          \"name\": \"Organization staff\",\n          \"code\": \"ORG_STAFF\",\n          \"tenantId\": \"{{tenantId}}\"\n        }]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n    \"registerId\": \"56shcwgdt308\",\n    \"startDate\": 1670178600000,\n    \"endDate\": 1670697000000,\n    \"individualEntries\": [\n                {\n                    \"individualId\": \"123e4567-e89b-12d3-a456-426614174444\",\n                    \"additionalDetails\": {\"code\":\"Skill 2\"}\n                },\n                {\n                    \"individualId\": \"123e4567-e89b-12d3-a456-426614174445\",\n                    \"additionalDetails\": {\"code\":\"Skill 3\"}\n                }\n\n     ],\n     \"additionalDetails\": {\"org details\":\"org1\"}\n  },\n  \"workflow\": {\n      \"action\": \"SUBMIT\",\n        \"comments\": \"Sumbit muster roll\",\n        \"assignees\": []       \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_create",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_create"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create muster roll - Success  with Individual Skill for one individual (Not all)",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 169,\n      \"uuid\": \"81a1988f-9072-4ff9-8aa4-eee5cf10ba57\",\n      \"userName\": \"7070102021\",\n      \"name\": \"test2\",\n      \"mobileNumber\": \"9130011254\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n        {\n          \"name\": \"Organization staff\",\n          \"code\": \"ORG_STAFF\",\n          \"tenantId\": \"{{tenantId}}\"\n        }]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n    \"registerId\": \"56shcwgdt244\",\n    \"startDate\": 1670178600000,\n    \"endDate\": 1670697000000,\n    \"individualEntries\": [\n                {\n                    \"individualId\": \"123e4567-e89b-12d3-a456-426614174444\",\n                    \"additionalDetails\": {\"code\":\"Skill 2\"}\n                }\n\n     ],\n     \"additionalDetails\": {\"org details\":\"org1\"}\n  },\n  \"workflow\": {\n      \"action\": \"SUBMIT\",\n        \"comments\": \"Sumbit muster roll\",\n        \"assignees\": []       \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_create",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_create"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create muster roll - Validation error - StartDate not Monday",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(400)));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 169,\n      \"uuid\": \"81a1988f-9072-4ff9-8aa4-eee5cf10ba57\",\n      \"userName\": \"7070102021\",\n      \"name\": \"test2\",\n      \"mobileNumber\": \"9130011254\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n        {\n          \"name\": \"Organization staff\",\n          \"code\": \"ORG_STAFF\",\n          \"tenantId\": \"{{tenantId}}\"\n        }]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n    \"registerId\": \"56shcwgdt227\",\n    \"startDate\": 1669919400000\n  },\n  \"workflow\": {\n      \"action\": \"SUBMIT\",\n        \"comments\": \"Sumbit muster roll\"\n        \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_create",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_create"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create muster roll - Validation error - Tenant id not in MDMS",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(400)));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 169,\n      \"uuid\": \"81a1988f-9072-4ff9-8aa4-eee5cf10ba57\",\n      \"userName\": \"7070102021\",\n      \"name\": \"test2\",\n      \"mobileNumber\": \"9130011254\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n        {\n          \"name\": \"Organization staff\",\n          \"code\": \"ORG_STAFF\",\n          \"tenantId\": \"{{tenantId}}\"\n        }]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"bp.amritsar\",\n    \"registerId\": \"56shcwgdt227\",\n    \"startDate\": 1670178600000\n  },\n  \"workflow\": {\n      \"action\": \"SUBMIT\",\n        \"comments\": \"Sumbit muster roll\",\n        \"assignees\": []\n        \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_create",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_create"
					]
				}
			},
			"response": []
		},
		{
			"name": "Create muster roll - Validation error - duplicate muster",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(400)));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 169,\n      \"uuid\": \"81a1988f-9072-4ff9-8aa4-eee5cf10ba57\",\n      \"userName\": \"7070102021\",\n      \"name\": \"test2\",\n      \"mobileNumber\": \"9130011254\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n        {\n          \"name\": \"Organization staff\",\n          \"code\": \"ORG_STAFF\",\n          \"tenantId\": \"{{tenantId}}\"\n        }]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n    \"registerId\": \"56shcwgdt227\",\n    \"startDate\": 1670178600000\n  },\n  \"workflow\": {\n      \"action\": \"SUBMIT\",\n        \"comments\": \"Sumbit muster roll\",\n        \"assignees\": []\n        \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_create",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_create"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update muster roll - Success - VERIFY action - No update of totalAttendance and skills",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"TenantId is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.tenantId).to.be.not.null});",
							"",
							"pm.test(\"TenantId is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.tenantId).to.not.be.undefined});",
							"",
							"pm.test(\"muster id is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.id).to.be.not.null});",
							"",
							"pm.test(\"muster id is required\", function () {",
							"    var req = JSON.parse(pm.request.body.raw);",
							"    pm.expect(req.musterRoll.id).to.not.be.undefined});",
							"",
							"",
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(200)));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 172,\n      \"uuid\": \"5ce80dd3-b1c0-42fd-b8f6-a2be456db31c\",\n      \"userName\": \"8070102021\",\n      \"name\": \"test3\",\n      \"mobileNumber\": \"8070102021\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n                {\n                    \"code\": \"JUNIOR_ENGINEER\",\n                    \"name\": \"JUNIOR ENGINEER\",\n                    \"tenantId\": \"{{tenantId}}\"\n                }\n        ]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n     \"id\":\"{{musterRollId}}\"\n  },\n  \"workflow\": {\n      \"action\": \"VERIFY\",\n        \"comments\": \"Verify muster roll\",\n        \"assignees\": []\n        \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_update",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_update"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update muster roll - Success - VERIFY action - Update total attendance for one individual only",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 172,\n      \"uuid\": \"5ce80dd3-b1c0-42fd-b8f6-a2be456db31c\",\n      \"userName\": \"8070102021\",\n      \"name\": \"test3\",\n      \"mobileNumber\": \"8070102021\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n                {\n                    \"code\": \"JUNIOR_ENGINEER\",\n                    \"name\": \"JUNIOR ENGINEER\",\n                    \"tenantId\": \"{{tenantId}}\"\n                }\n        ]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n     \"id\":\"43f38167-8bae-4033-981a-78688cdaafd2\",\n     \"individualEntries\": [\n                {\n                    \"id\": \"fda1eb64-e1d1-4463-a0b6-ad48973b4373\",\n                    \"totalAttendance\": 4.5\n\n                }\n\n     ]\n  },\n  \"workflow\": {\n      \"action\": \"VERIFY\",\n        \"comments\": \"Verify muster roll\",\n        \"assignees\": []\n        \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_update",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_update"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update muster roll - Success - VERIFY action - Update skill for one individual only",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 172,\n      \"uuid\": \"5ce80dd3-b1c0-42fd-b8f6-a2be456db31c\",\n      \"userName\": \"8070102021\",\n      \"name\": \"test3\",\n      \"mobileNumber\": \"8070102021\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n                {\n                    \"code\": \"JUNIOR_ENGINEER\",\n                    \"name\": \"JUNIOR ENGINEER\",\n                    \"tenantId\": \"{{tenantId}}\"\n                }\n        ]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n     \"id\":\"39f1addc-0aa7-4676-a0b0-ce3e6f0c85e1\",\n     \"individualEntries\": [\n                {\n                    \"id\": \"dcc21991-1e4b-4b91-ab93-ae501fdf4422\",\n                    \"additionalDetails\": {\"code\":\"Skill 4\"}\n                }\n\n     ]\n  },\n  \"workflow\": {\n      \"action\": \"VERIFY\",\n        \"comments\": \"Verify muster roll\",\n        \"assignees\": []\n        \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_update",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_update"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update muster roll - Success - VERIFY action - Update total attendance  and skill",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 172,\n      \"uuid\": \"5ce80dd3-b1c0-42fd-b8f6-a2be456db31c\",\n      \"userName\": \"8070102021\",\n      \"name\": \"test3\",\n      \"mobileNumber\": \"8070102021\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n                {\n                    \"code\": \"JUNIOR_ENGINEER\",\n                    \"name\": \"JUNIOR ENGINEER\",\n                    \"tenantId\": \"{{tenantId}}\"\n                }\n        ]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n     \"id\":\"85b4cc8f-6eec-4d08-9160-35933789f134\",\n     \"individualEntries\": [\n                {\n                    \"id\": \"82106e16-e34f-4cf9-a358-036c1b35d4a4\",\n                    \"totalAttendance\": 4.5,\n                    \"additionalDetails\": {\"code\":\"Skill 4\"}\n                },\n                {\n                    \"id\": \"29b9368e-7cc0-4cb0-8954-a9277a162aa6\",\n                    \"additionalDetails\": {\"code\":\"Skill 3\"}\n                }\n\n     ]\n  },\n  \"workflow\": {\n      \"action\": \"VERIFY\",\n        \"comments\": \"Verify muster roll\",\n        \"assignees\": []\n        \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_update",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_update"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update muster roll - Success - REJECT action",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(200)));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 172,\n      \"uuid\": \"f9665338-8a0c-4054-93c7-ff1526616da6\",\n      \"userName\": \"9070102020\",\n      \"name\": \"test4\",\n      \"mobileNumber\": \"9070102020\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n                {\n                    \"code\": \"MUNICIPAL_ENGINEER\",\n                    \"name\": \"MUNICIPAL ENGINEER\",\n                    \"tenantId\": \"{{tenantId}}\"\n                }\n            ]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n     \"id\":\"{{musterRollId}}\"\n     \n  },\n  \"workflow\": {\n      \"action\": \"REJECT\",\n        \"comments\": \"Reject muster roll\"\n        \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_update",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_update"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update muster roll - Success - RESUBMIT action",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(200)));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 169,\n      \"uuid\": \"81a1988f-9072-4ff9-8aa4-eee5cf10ba57\",\n      \"userName\": \"7070102021\",\n      \"name\": \"test2\",\n      \"mobileNumber\": \"9130011254\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n        {\n          \"name\": \"Organization staff\",\n          \"code\": \"ORG_STAFF\",\n          \"tenantId\": \"{{tenantId}}\"\n        }]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n     \"id\":\"{{musterRollId}}\",\n     \"additionalDetails\": {\"computeAttendance\":\"true\"}\n  },\n  \"workflow\": {\n      \"action\": \"RESUBMIT\",\n        \"comments\": \"Resubmit muster roll\",\n        \"assignees\": []       \n        \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_update",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_update"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update muster roll - Success - APPROVE action",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 172,\n      \"uuid\": \"f9665338-8a0c-4054-93c7-ff1526616da6\",\n      \"userName\": \"9070102020\",\n      \"name\": \"test4\",\n      \"mobileNumber\": \"9070102020\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n                {\n                    \"code\": \"MUNICIPAL_ENGINEER\",\n                    \"name\": \"MUNICIPAL ENGINEER\",\n                    \"tenantId\": \"{{tenantId}}\"\n                }\n            ]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n     \"id\":\"{{musterRollId}}\"\n     \n  },\n  \"workflow\": {\n      \"action\": \"APPROVE\",\n        \"comments\": \"Approve muster roll\"\n        \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_update",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_update"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update muster roll - Validation error - VERIFY ineligible",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(400)));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 169,\n      \"uuid\": \"81a1988f-9072-4ff9-8aa4-eee5cf10ba57\",\n      \"userName\": \"7070102021\",\n      \"name\": \"test2\",\n      \"mobileNumber\": \"9130011254\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n        {\n          \"name\": \"Organization staff\",\n          \"code\": \"ORG_STAFF\",\n          \"tenantId\": \"{{tenantId}}\"\n        }]\n    }\n  },\n  \"musterRoll\": {\n    \"tenantId\": \"{{tenantId}}\",\n     \"id\":\"4a8ee311-3354-4c2b-8569-27c4798d4669\",\n     \"individualEntries\": [\n                {\n                    \"id\": \"ed30593b-afd6-4497-86a7-9c8e203a0d4f\",\n                    \"totalAttendance\": 3.5\n                },\n                {\n                    \"id\": \"fb8bf65e-8565-4d64-8cc7-4b04bc1edfad\",\n                    \"totalAttendance\": 2\n                }\n\n     ]\n  },\n  \"workflow\": {\n      \"action\": \"VERIFY\",\n        \"comments\": \"Verify muster roll\",\n        \"assignees\": []\n        \n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_update",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_update"
					]
				}
			},
			"response": []
		},
		{
			"name": "Search Muster Roll - musterRollNumber based",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(200)));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 172,\n      \"uuid\": \"5ce80dd3-b1c0-42fd-b8f6-a2be456db31c\",\n      \"userName\": \"8070102021\",\n      \"name\": \"test3\",\n      \"mobileNumber\": \"8070102021\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n                {\n                    \"code\": \"JUNIOR_ENGINEER\",\n                    \"name\": \"JUNIOR ENGINEER\",\n                    \"tenantId\": \"{{tenantId}}\"\n                }\n        ]\n    }\n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_search?tenantId=pb.amritsar&musterRollNumber={{musterRollNumber}}",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_search"
					],
					"query": [
						{
							"key": "tenantId",
							"value": "pb.amritsar"
						},
						{
							"key": "musterRollNumber",
							"value": "{{musterRollNumber}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Search Muster Roll - startDate and endDate based - multi muster roll response",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(200)));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 172,\n      \"uuid\": \"5ce80dd3-b1c0-42fd-b8f6-a2be456db31c\",\n      \"userName\": \"8070102021\",\n      \"name\": \"test3\",\n      \"mobileNumber\": \"8070102021\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n                {\n                    \"code\": \"JUNIOR_ENGINEER\",\n                    \"name\": \"JUNIOR ENGINEER\",\n                    \"tenantId\": \"{{tenantId}}\"\n                }\n        ]\n    }\n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_search?tenantId=pb.amritsar&frm=1670178600000",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_search"
					],
					"query": [
						{
							"key": "tenantId",
							"value": "pb.amritsar"
						},
						{
							"key": "frm",
							"value": "1670178600000"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Search Muster Roll - state level tenant",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Response is successful\", () => ",
							"   pm.expect(pm.response.to.have.status(200)));"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"RequestInfo\": {\n    \"apiId\": \"asset-services\",\n    \"ver\": null,\n    \"ts\": null,\n    \"action\": null,\n    \"did\": null,\n    \"key\": null,\n    \"msgId\": \"search with from and to values\",\n    \"authToken\": \"{{envAUTH}}\",\n    \"userInfo\": {\n      \"id\": 172,\n      \"uuid\": \"5ce80dd3-b1c0-42fd-b8f6-a2be456db31c\",\n      \"userName\": \"8070102021\",\n      \"name\": \"test3\",\n      \"mobileNumber\": \"8070102021\",\n      \"emailId\": \"xyz@egovernments.org\",\n      \"locale\": null,\n      \"type\": \"EMPLOYEE\",\n      \"roles\": [\n                {\n                    \"code\": \"JUNIOR_ENGINEER\",\n                    \"name\": \"JUNIOR ENGINEER\",\n                    \"tenantId\": \"{{tenantId}}\"\n                }\n        ]\n    }\n  }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{envURL}}/muster-roll/v1/_search?tenantId=pb",
					"host": [
						"{{envURL}}"
					],
					"path": [
						"muster-roll",
						"v1",
						"_search"
					],
					"query": [
						{
							"key": "tenantId",
							"value": "pb"
						}
					]
				}
			},
			"response": []
		}
	]
}